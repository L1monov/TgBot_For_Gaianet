# Telegramm bot by.Gaianet

Этот бот помогает пользователям находить подходящие ивенты на конференции. 
Он подключён к базе данных с событиями через Gaianet, что позволяет выбирать мероприятия на основе запросов пользователей. 
Просто введите запрос, и бот найдёт подходящие ивенты по теме, времени или месту проведения.

-----

## Установка и запуск

### 1. Клонирование репозитория
Сначала клонируйте репозиторий:

```bash
git clone https://github.com/L1monov/TgBot_by_Gaianet.git

cd TgBot_by_Gaianet
```

### 2. Создание виртуального окружения и установка зависимостей

```bash
python3 -m venv venv

pip install -r req.txt
```

### 3. Заполнения  файла .env

```bash
BOT_TOKEN="YOUR TOKEN BOT"

DB_NAME="DATABASE NAME"
DB_LOGIN="LOGIN DATABASE"
DB_PASSWORD="DATABASE PASSWORD"
DB_HOST="DATABASE IP"
DB_PORT=PORT

ADMINS_IDS="ADMINS IDS TG"
GROUP_FOR_SUBSCRIPTION="GROUP FOR CHECK SUBCRIPTION"
```

### 4. Первый запуск

#### 4.1. База дыннах
При первом запуске, если правильно настроен файл .env, у Вас автоматически будут созданы все таблицы в базе данных.\
Если нужно настроить дополнительные таблица это можно сделать в файле _data/async_database.py_

#### 4.2. Gaianet

При запуске, будет сообщения об успешном подключении к Gaianet.
```bash
Gaianet connected ! 
```

---
## Структура проекта

Проект организован следующим образом:

`TelegramBot/` - *Основная директория бота Telegram*
- `admin_mode/` - *Директория для функционала режима администратора*
- `conference_mode/` - *Директория для функционала конференции*
  - `callbacks/` - *Директория для обработки callback'ов от пользователей*
  - `conference_routers/` - *Директория для роутеров, связанных с конференциями*
  - `defs_conference/` - *Директория для определения функционала конференций*
  - `handlers/` - *Директория для обработки событий и сообщений*
  - `keyboards/` - *Директория для создания кастомных клавиатур*
  - `notification/` - *Директория для управления уведомлениями*
  - `utils/` - *Утилиты и вспомогательные функции для конференционного режима*
- `middleware/` - *Промежуточное ПО, использующееся в проекте для обработки запросов*
- `news_mod/` - *Директория для новостного модуля*
- `settings/` - *Директория для хранения конфигурационных файлов*
- `utils/` - *Общие утилиты и вспомогательные функции для проекта*
`bot.py` - *Основной файл бота*
`main_router.py` - *Файл с главным роутером для управления маршрутами приложения*

## Gaianet

Взаимодействяи с Gaianet и базой данный происходит через файл `TelegramBot/conference_mode/conference_routers/gaianet_sql.py`
Мы подключаемся к ноде Gaianet и соединяем её с базой данных

## Основные функции бота

- Поиск ивентов, просто вводите что Вы хотите найти и бот найдёт ивенты по Вашему запросу
- Просмотр подробной информации о ивенте. Если описание большое, то генерируется сокращенное описания с помощью Gaianet.
- Добавления ивентов в свой лист
- Поделиться листом ивентов
- Просмотр Side ивентов по категориям
- Просмотр Main ивентов по дням и локации